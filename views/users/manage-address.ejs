<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %> 
<body class="pt-5">
<%- include('../partials/user-navbar') %> 
<div class="orders">
  <section class="container min-vh-100 pt-5">
    <div class="row">
      <div class="col-sm-4 side-bar">
        <div class="card p-3 m-4">
          <a class="text-decoration-none" href="/dashboard">Dashboard</a>
        </div>
        <div class="card p-3 m-4">
          <a class="text-decoration-none" href="/orders">Orders</a>
        </div>
        <div class="card p-3 m-4 bg-dark">
          <a class="text-decoration-none text-white" href="/dashboard/address/manage">Manage Address</a>
        </div>
      </div>
      <div class="d-flex justify-content-end mb-3">
        <a href="/dashboard/address/add" class="main-button text-decoration-none">Add Address</a>
      </div>
    <% let count = 0 %> 
      <% if(userDetails.shippingAddress.length>0){ %> 
        <div class="row">
        <% userDetails.shippingAddress.forEach(item => { %> 
          <div class="col-md-6 mb-3">
            <div class="card address-card d-flex flex-row justify-content-between p-5 position-relative">
              <p class="col-6">Address <%= ++count %>:</p>
              <div class="text-end col-6">
                <p><%= item.street1 %></p>
                <p><%= item.street2 %></p>
                <p><%= item.city %></p>
                <p><%= item.state %></p>
                <p><%= item.zip %></p>
              </div>
              <div class="position-absolute edit-button-address">
                <a href="/dashboard/address/edit/<%= item._id %> " class="main-button text-decoration-none">Edit</a>
                <button class="sub-button" onclick="deleteAddress('<%= item._id %>')">Delete</button>
              </div>
            </div>
          </div>
        <% }) %> 
      </div>
      <% }else{ %>
        <p>No address added</p>
        <% } %>  
  </section>
</div>
<%- include('../partials/footer') %> 
<script defer src="/script/userScript.js"></script>
</body>
</html>

